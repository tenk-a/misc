ectab   ver. 2.10


■　概要

・空白タブ変換、行末の空白タブ削除、改行コードの変換、行番号の
  付加等が行なえるコマンドライン・ツール。

・c/c++ソースを考慮して 'または "で囲まれた範囲での変換を抑制し
  たり、\エスケープ化等が可能。
  (//コメント,/*コメント*/中は、'"は唯の文字として扱う）。

・LF($0a uni*),CR($0d mac),CRLF($0d0a win) を改行として扱い、
  ファイル出力では、改行コードを CR,LF,CRLF の何れかに変更可能。
  とくに指定のないときは、元のまま出力。
  ※標準出力ではLFはCRLFになります。

・指定がなければ標準出力だが、指定されれば 入力するファイルを
  BAK ファイルにして、その入力ファイル名で出力可能。



■  使いかた

　usage: ectab [-opts] [ファイル名]...

    オプションやファイル名は複数指定でき、ファイル名の直前までの
  オプションが反映される。
    ファイルの指定の無いとき、標準入力し、出力ファイルの指定が
  なければ標準出力する。


■  オプション

  -?        説明
  -o        出力を元ファイル名にする。元々のファイルは.bakにする
  -o[FILE]  FILEに出力.
  -m[-]     行末の空白・タブ・コントロールコードを削除.
  -r[0-3]   改行を 0:入力のまま 1:'\n' 2:'\r' 3:'\r\n' に変換
            ただしファイル出力時のみで、標準入出力では '\n'は
            '\r\n'になる。
  -s[N]     出力のタブサイズを N にする(空白->タブ)
  -t[N]     入力のタブサイズを N にする(タブ->空白)
  -z        出力のタブサイズが空白1文字にしかならない場合は空白で出力
  -j        出力のタブサイズ丁度の空白のみタブに変換
  -q        出力を4タブ8タブで見た目が違わないようにする
  -b[0-2]   C/C++の "" '' 対を考慮
            0:しない 1:する 2:対中のコントロール文字を\文字化
  -u        半角小文字の大文字化
  -l        半角大文字の小文字化
  -a        EOFとして0x1aを出力
  -k[-]     入力は 0:1バイト文字  1:シフトJIS(マルチバイト文字)  2:UTF8
            (デフォルト -k1)
  -n[N:M:L:STR]
	  行番号を付けて出力。N,L,STR はそれぞれ
	    N:行番号の桁数
	    M:次の行番号との差
	    L:０行目の行番号
	    STR:行番号とテキストの間に挟む文字列
	で、指定されなかったばあいは、-n7:1:0:" " が指定される。
	（桁を揃えたくない場合は N=0と指定すれば）。
	  L は実際には存在しない０行目の行番号。
	１行目の行番号は L+M になる。
	  STR の指定は " で囲まれた文字列か空白が現れるまでを用いる。
	  例えば、-n0,10,0," '" なら、BASIC のコメント文のよう
	  なテキストを作成できる^^;.


■  おわりに

　昔アセンブラ(もどき)で作ったコマンドラインツールのリメイク。
他愛ないツールで今更以外の何者でもないけれど、ちょっとタブ空白
変換ルーチンを作ったものがあったし、結局自分は、つい自分のツー
ルを使うもんで、8.3形式しかできないdos版は、たまにとはいえ面倒
は面倒と...いや、ま、好きなSF作家にあやかった名前をつけたため
か愛着がある、ってだけなのよ^^;
（※ E.C.タブ。『ディマレスト・サーガ』や別名義だけど
　　『キャップ・ケネディ』という作品がある）

　まあ、使用はご自由に。当然、無保証。ソースの引用/流用とかに
ついても、良識の範囲であなたの仕事や著作物にかってに使ってok.
(改造部分とかの著作権やら何やらの権利で他者の利用や(同様の)
改変の自由を制限するような真似をせんかぎりは、と）

					北村雅史
					NBB00541@nifty.com
					tenk@6809.net
